<!DOCTYPE html>
<html>

<head>
    <title>Pass Phrase</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>

    <h2>Pass phrase by Maheshwar Reddy Goli</h2>

    <div class="container border bg-secondary">
        <form>
            <div class="form-grop row">
                <label for="form1_age" class="col-sm-3 col-form-label">Enter the secret phrase </label>
                <div class="col-sm-6">
                    <input type="password" class="form-control" id="form1_age" name="form1_age" min=10 max=50 step=2 value="Let me in"> <br>
                </div>
            </div>
            <div class="form-group row">
                <label for="form1_nick" class="col-sm-3 col-form-label">Enter a phrase </label>
                <div class="col-sm-6">
                    <input type="text" id="form1_nick" name="form1_nick" autofocus> <br>
                </div>
            </div>

            <div>
                <input type="button" class="col-sm-3 btn btn-danger" onclick="processPhrase()" value="Check the phrase">
            </div>
        </form>
    </div>

    <div class="container border bg-light">
        <p id="result" style="color: crimson;">This text will be replaced </p>
    </div>

    <div class="container">
        <img id="image" src="./Images/giraffe.jpg" class="img-fluid" alt="Giraffe" height="200" width="200" onclick="newImage()">
    </div>

    <script>
        let usingImage = 1;
        let correct = 0;
        let wrong = 0;
        var temp = 0;

        function processPhrase() {
            console.log("Getting form values")
            password = document.getElementById("form1_age").value
            guess = document.getElementById("form1_nick").value

            out = document.getElementById("result")
            if (password == guess) {
                temp = 0;
                correct = correct + 1
                out.innerHTML = "correct : " + correct + " " + "wrong : " + wrong
                alert("Access allowed")
            } else {
                wrong = wrong + 1
                temp = temp + 1
                out.innerHTML = "correct : " + correct + " " + "wrong : " + wrong
                alert("Access denied")
                if (temp >= 3) {
                    if (wrong >= 3) {
                        passPhrase()
                    }
                }
            }
        }

        function passPhrase() {
            alert("Account Locked")
        }

        function newImage() {
            image = document.getElementById("image")
            switch (usingImage) {
                case 1:
                    image.src = "Images/giraffe.jpg"
                    usingImage = usingImage + 1
                    break
                case 2:
                    image.src = "Images/lion.jpg"
                    usingImage = usingImage + 1
                    break
                case 3:
                    image.src = "Images/ox.jpg"
                    usingImage = usingImage + 1
                    break
                default:
                    break
            }
        }
    </script>

</body>

</html>